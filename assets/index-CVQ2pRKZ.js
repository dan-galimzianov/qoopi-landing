(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}})();function A(){const i=document.querySelectorAll('.form__item-input[data-mask="phone"]');function r(d){if(!d){console.warn("Элемент phone не найден");return}d.value||(d.value=""),d.addEventListener("focus",function(c){(!c.target.value||c.target.value==="+7")&&(c.target.value="+7")}),d.addEventListener("input",function(c){let e=c.target.value.replace(/\D/g,"");e.length>0&&e[0]!=="7"&&(e="7"+e);let t=e.match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);c.target.value=t[2]?`+7 (${t[2]}${t[3]?`) ${t[3]}`:""}${t[4]?`-${t[4]}`:""}${t[5]?`-${t[5]}`:""}`:"+7"})}i.forEach(r)}const q=(i,r)=>{let d;return function(...c){clearTimeout(d),d=window.setTimeout(()=>i.apply(this,c),r)}},k=i=>new Promise(r=>{i.readyState>=3?r(i):i.addEventListener("loadeddata",r)}),P=i=>new Promise(r=>i.complete?r(i):i.addEventListener("load",r)),S=i=>Promise.all(i.map(r=>k(r))),w=i=>Promise.all(i.map(r=>P(r))),C=i=>{(i||document).querySelectorAll("source[data-src]").forEach(c=>{const e=c.getAttribute("data-src");if(e){c.setAttribute("src",e),c.removeAttribute("data-src");const t=c.parentElement;t&&t.load()}})};document.addEventListener("DOMContentLoaded",()=>{A();const i=document.querySelectorAll(".hero-section__nav-link");let r="1";const d=n=>{if(!n)return;i.forEach(s=>{s.classList.remove("hero-section__nav-link_active"),s.getAttribute("data-section-id")===n&&s.classList.add("hero-section__nav-link_active")});const u=document.querySelectorAll("[data-section-id]:not(.hero-section__nav-link):not(.menu-nav-link)");document.body.classList.remove(`blot_${r}`),document.body.classList.add(`blot_${n}`),r=n,document.body.classList.remove("loading"),u.forEach(s=>{const o=s;s.getAttribute("data-section-id")===n?(o.style.setProperty("opacity","1"),o.style.setProperty("visibility","visible"),C(o)):(o.style.setProperty("opacity","0"),o.style.setProperty("visibility","hidden"))})};i.forEach(n=>{n.addEventListener("click",()=>{const u=n.getAttribute("data-section-id");u&&d(u)})});const c=i[0];c&&c.click();const e={},t=async(n,u)=>{const s=document.getElementById(n);if(!s)return;const o=s.querySelector(".carousel__wrapper");if(!o)return;const y=Array.from(s.querySelectorAll("img")),h=Array.from(s.querySelectorAll("video"));await w(y),await S(h);let b=o.clientHeight;const _=o.innerHTML;o.innerHTML=_+_,o.style.setProperty("--total-slider-height",`-${b}px`),o.style.setProperty("--iteration-time",`${u}s`),o.style.setProperty("animation","scroll var(--iteration-time) linear infinite"),e[n]={type:"vertical",wrapper:o,duration:u}},l=document.querySelector(".header__menu-burger"),a=document.getElementById("closeBtn"),p=document.getElementById("menuOverlay");l==null||l.addEventListener("click",function(n){n.stopPropagation(),document.body.classList.add("menu-open")}),a==null||a.addEventListener("click",function(n){n.stopPropagation(),document.body.classList.remove("menu-open")}),document.addEventListener("click",function(n){document.body.classList.contains("menu-open")&&p&&l&&!p.contains(n.target)&&!l.contains(n.target)&&document.body.classList.remove("menu-open")}),document.querySelectorAll(".menu-nav-link").forEach(n=>{n.addEventListener("click",u=>{u.preventDefault();const o=u.currentTarget.getAttribute("data-section-id");document.body.classList.remove("menu-open"),o&&setTimeout(()=>{d(o);const y=document.querySelector(`.hero-section__nav-link[data-section-id="${o}"]`);y&&y.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},300)})});const m=async(n,u)=>{const s=document.getElementById(n);if(!s)return;const o=s.querySelector(".carousel__wrapper");if(!o)return;const y=Array.from(s.querySelectorAll("img")),h=Array.from(s.querySelectorAll("video"));await w(y),await S(h);let b=o.clientWidth;const _=o.innerHTML;o.innerHTML=_+_,o.style.setProperty("--total-slider-width",`-${b}px`),o.style.setProperty("--iteration-time",`${u}s`),o.style.setProperty("animation","scroll-horizontal var(--iteration-time) linear infinite"),e[n]={type:"horizontal",wrapper:o,duration:u}},f=n=>{if(!e[n])return;const{type:u,wrapper:s,duration:o}=e[n];if(u==="vertical"){s.style.animation="none",s.offsetWidth;const y=s.clientHeight/2;s.style.setProperty("--total-slider-height",`-${y}px`),s.style.setProperty("animation",`scroll ${o}s linear infinite`)}else{s.style.animation="none",s.offsetWidth;const y=s.clientWidth/2;s.style.setProperty("--total-slider-width",`-${y}px`),s.style.setProperty("animation",`scroll-horizontal ${o}s linear infinite`)}},E=async()=>{const n=["carousel1","carousel2","carousel3","sellers-media-carousel"],u=["hero-sliders-mobile","brands-media-mobile-carousel","sellers-media-mobile-carousel"],s=window.innerWidth>=1200;if(Object.keys(e).forEach(o=>{const y=document.getElementById(o);if(y){const h=y.querySelector(".carousel__wrapper");if(h&&(h.style.animation="none",h.children.length>0)){const b=h.children.length;for(let _=b-1;_>=b/2;_--)h.children[_].remove()}}}),Object.keys(e).forEach(o=>{delete e[o]}),s)for(const o of n)await t(o,o==="carousel1"?17:15);else for(const o of u)await m(o,20)},v=()=>{Object.keys(e).forEach(n=>{f(n)})};E(),window.addEventListener("resize",q(()=>{const n=window.innerWidth>=1200,u=Object.keys(e).some(s=>["carousel1","carousel2","carousel3","sellers-media-carousel"].includes(s));n!==u?E():v()},150));const L=document.querySelectorAll(".textarea-auto-resize");L==null||L.forEach(n=>{n.addEventListener("input",()=>{n.style.height="auto",n.style.height=n.scrollHeight+"px"})})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".modal").forEach(r=>{const d=r.getAttribute("data-modal-id");document.querySelectorAll(`button[data-modal-id="${d}"]`).forEach(l=>{l.addEventListener("click",()=>{document.body.classList.remove("menu-open"),r.classList.add("modal_active")})});const e=r.querySelector(".modal__overlay"),t=r.querySelector(".modal__close-button");e==null||e.addEventListener("click",()=>{r.classList.remove("modal_active")}),t==null||t.addEventListener("click",()=>{r.classList.remove("modal_active")})})});document.addEventListener("DOMContentLoaded",function(){const i=document.querySelectorAll(".form"),r=document.getElementById("successModal");document.getElementById("successModalClose").addEventListener("click",function(){r.classList.remove("active")}),i.forEach(c=>{const e=c.closest(".modal");c.addEventListener("submit",function(t){t.preventDefault();const l=c.querySelectorAll(".form__item"),a={},p={};if(Array.from(l).forEach(m=>{const f=m.querySelector(".form__item-input"),E=m.getAttribute("data-form-validation-required")==="true",v=f.getAttribute("name"),L=f.type==="checkbox";E&&f.value.trim()===""&&(a[v]="Поле обязательно для заполнения"),E&&L&&(f.checked||(a[v]="Поле обязательно для заполнения")),m.getAttribute("data-form-validation-is-email")==="true"&&(f.value.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(a[v]="Неверный формат электронной почты")),m.getAttribute("data-form-validation-is-phone")==="true"&&(/^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(f.value)||(a[v]="Неверный формат телефона"));const s=m.getAttribute("data-form-validation-is-multiselect")==="true";p[v]=s?f.value.split(",").filter(Boolean):f.value,L&&(p[v]=f.checked);const o=m.querySelector(".form__item-error")||document.createElement("div");a[v]?(m.classList.add("form__item_error"),L||(o.classList.add("form__item-error"),o.textContent=a[v],m.appendChild(o))):(m.classList.remove("form__item_error"),o==null||o.remove())}),Object.keys(a).length===0){const m=c.getAttribute("data-server-url");fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then(f=>f.json()).then(()=>{c.reset(),r.classList.add("active"),e.classList.remove("modal_active")}).catch(f=>{console.error("Ошибка:",f)})}})})});document.addEventListener("DOMContentLoaded",function(){const i=document.querySelectorAll(".multiselect");i.forEach(function(e){r(e)});function r(e){const t=e.querySelector(".multiselect__header"),l=e.querySelector(".multiselect__arrow"),a=e.querySelector(".multiselect__dropdown"),p=e.querySelectorAll(".multiselect__option");c(e),t.addEventListener("click",function(g){i.forEach(function(m){m!==e&&(m.querySelector(".multiselect__arrow").classList.remove("multiselect__arrow--up"),m.querySelector(".multiselect__dropdown").classList.remove("multiselect__dropdown--visible"))}),l.classList.toggle("multiselect__arrow--up"),a.classList.toggle("multiselect__dropdown--visible"),g.stopPropagation()}),p.forEach(function(g){g.addEventListener("click",function(m){g.classList.toggle("multiselect__option--selected");const f=g.classList.contains("multiselect__option--selected");g.setAttribute("aria-selected",f),d(e),c(e),m.stopPropagation()})}),d(e)}function d(e){const t=e.querySelector(".multiselect__title"),l=e.querySelectorAll(".multiselect__option--selected");if(l.length===0)t.classList.add("multiselect__title--empty"),t.textContent="Выберите категории";else{t.classList.remove("multiselect__title--empty");const a=Array.from(l).map(p=>p.querySelector(".multiselect__text").textContent);a.length<=2?t.textContent=a.join(", "):t.textContent=`Выбрано ${a.length} категории`}}function c(e){const t=e.querySelector(".multiselect__input");t.value="",e.querySelectorAll(".multiselect__option--selected").forEach(a=>{const p=a.dataset.value;t.value+=`${p},`})}document.addEventListener("click",function(e){i.forEach(function(t){t.querySelector(".multiselect__header");const l=t.querySelector(".multiselect__dropdown"),a=t.querySelector(".multiselect__arrow");t.contains(e.target)||(a.classList.remove("multiselect__arrow--up"),l.classList.remove("multiselect__dropdown--visible"))})})});
