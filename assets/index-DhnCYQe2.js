(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".modal").forEach(n=>{const a=n.getAttribute("data-modal-id");document.querySelectorAll(`button[data-modal-id="${a}"]`).forEach(s=>{s.addEventListener("click",()=>{n.classList.add("modal_active")})});const e=n.querySelector(".modal__overlay"),t=n.querySelector(".modal__close-button");e==null||e.addEventListener("click",()=>{n.classList.remove("modal_active")}),t==null||t.addEventListener("click",()=>{n.classList.remove("modal_active")})})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".form").forEach(n=>{n.addEventListener("submit",function(a){a.preventDefault();const l=n.querySelectorAll(".form__item"),e={},t={};Array.from(l).forEach(d=>{const m=d.querySelector(".form__item-input"),f=d.getAttribute("data-form-validation-required")==="true",o=m.getAttribute("name"),u=m.type==="checkbox";f&&m.value.trim()===""&&(e[o]="Поле обязательно для заполнения"),f&&u&&(m.checked||(e[o]="Поле обязательно для заполнения")),d.getAttribute("data-form-validation-is-email")==="true"&&(m.value.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(e[o]="Неверный формат электронной почты"));const r=d.getAttribute("data-form-validation-is-multiselect")==="true";t[o]=r?m.value.split(",").filter(Boolean):m.value,u&&(t[o]=m.checked)}),Object.keys(e).length>0;const s=n.getAttribute("data-server-url");fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})})})});document.addEventListener("DOMContentLoaded",function(){const i=document.querySelectorAll(".multiselect");i.forEach(function(e){n(e)});function n(e){const t=e.querySelector(".multiselect__header");e.querySelector(".multiselect__title");const s=e.querySelector(".multiselect__arrow"),d=e.querySelector(".multiselect__dropdown"),m=e.querySelectorAll(".multiselect__option");e.dataset.name,l(e),t.addEventListener("click",function(f){i.forEach(function(o){o!==e&&(o.querySelector(".multiselect__arrow").classList.remove("multiselect__arrow--up"),o.querySelector(".multiselect__dropdown").classList.remove("multiselect__dropdown--visible"))}),s.classList.toggle("multiselect__arrow--up"),d.classList.toggle("multiselect__dropdown--visible"),f.stopPropagation()}),m.forEach(function(f){f.addEventListener("click",function(o){f.classList.toggle("multiselect__option--selected");const u=f.classList.contains("multiselect__option--selected");f.setAttribute("aria-selected",u),a(e),l(e),o.stopPropagation()})}),a(e)}function a(e){const t=e.querySelector(".multiselect__title"),s=e.querySelectorAll(".multiselect__option--selected");if(s.length===0)t.classList.add("multiselect__title--empty"),t.textContent="Выберите категории";else{t.classList.remove("multiselect__title--empty");const d=Array.from(s).map(m=>m.querySelector(".multiselect__text").textContent);d.length<=2?t.textContent=d.join(", "):t.textContent=`Выбрано ${d.length} категории`}}function l(e){const t=e.querySelector(".multiselect__input");t.value="",e.querySelectorAll(".multiselect__option--selected").forEach(d=>{const m=d.dataset.value;t.value+=`${m},`})}document.addEventListener("click",function(e){i.forEach(function(t){t.querySelector(".multiselect__header");const s=t.querySelector(".multiselect__dropdown"),d=t.querySelector(".multiselect__arrow");t.contains(e.target)||(d.classList.remove("multiselect__arrow--up"),s.classList.remove("multiselect__dropdown--visible"))})})});function L(){const i=document.querySelectorAll('.form__item-input[data-mask="phone"]');function n(a){if(!a){console.warn("Элемент phone не найден");return}a.value||(a.value="+7"),a.addEventListener("focus",function(l){(!l.target.value||l.target.value==="+7")&&(l.target.value="+7")}),a.addEventListener("input",function(l){let e=l.target.value.replace(/\D/g,"");e.length>0&&e[0]!=="7"&&(e="7"+e);let t=e.match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);l.target.value=t[2]?`+7 (${t[2]}${t[3]?`) ${t[3]}`:""}${t[4]?`-${t[4]}`:""}${t[5]?`-${t[5]}`:""}`:"+7"})}i.forEach(n)}const b=i=>new Promise(n=>{i.readyState>=3?n(i):i.addEventListener("loadeddata",n)}),S=i=>new Promise(n=>i.complete?n(i):i.addEventListener("load",n)),g=i=>Promise.all(i.map(n=>b(n))),h=i=>Promise.all(i.map(n=>S(n)));document.addEventListener("DOMContentLoaded",()=>{console.log("Загрузка страницы..."),L();const i=document.querySelectorAll(".hero-section__nav-link");let n="1";const a=o=>{if(!o)return;i.forEach(c=>{c.classList.remove("hero-section__nav-link_active"),c.getAttribute("data-section-id")===o&&c.classList.add("hero-section__nav-link_active")});const u=document.querySelectorAll("[data-section-id]:not(.hero-section__nav-link):not(.menu-nav-link)");document.body.classList.remove(`blot_${n}`),document.body.classList.add(`blot_${o}`),n=o,u.forEach(c=>{const r=c;c.getAttribute("data-section-id")===o?(r.style.setProperty("opacity","1"),r.style.setProperty("visibility","visible")):(r.style.setProperty("opacity","0"),r.style.setProperty("visibility","hidden"))})};i.forEach(o=>{o.addEventListener("click",()=>{const u=o.getAttribute("data-section-id");u&&(o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),a(u))})});const l=i[0];l&&l.click();const e=async(o,u)=>{const c=document.getElementById(o);if(!c)return;const r=c.querySelector(".carousel__wrapper");if(!r)return;const y=Array.from(c.querySelectorAll("img")),_=Array.from(c.querySelectorAll("video"));await h(y),await g(_),console.log("all images and videos are ready");let p=r.clientHeight;console.log(p);const v=r.innerHTML;r.innerHTML=v+v,r.style.setProperty("--total-slider-height",`-${p}px`),r.style.setProperty("--iteration-time",`${u}s`),r.style.setProperty("animation","scroll var(--iteration-time) linear infinite")},t=document.querySelector(".header__menu-burger"),s=document.getElementById("closeBtn"),d=document.getElementById("menuOverlay");t==null||t.addEventListener("click",function(o){o.stopPropagation(),document.body.classList.add("menu-open")}),s==null||s.addEventListener("click",function(o){o.stopPropagation(),document.body.classList.remove("menu-open")}),document.addEventListener("click",function(o){document.body.classList.contains("menu-open")&&d&&t&&!d.contains(o.target)&&!t.contains(o.target)&&document.body.classList.remove("menu-open")}),document.querySelectorAll(".menu-nav-link").forEach(o=>{o.addEventListener("click",u=>{u.preventDefault();const r=u.currentTarget.getAttribute("data-section-id");document.body.classList.remove("menu-open"),r&&setTimeout(()=>{a(r);const y=document.querySelector(`.hero-section__nav-link[data-section-id="${r}"]`);y&&y.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},300)})});const f=async(o,u)=>{const c=document.getElementById(o);if(!c)return;const r=c.querySelector(".carousel__wrapper");if(!r)return;const y=Array.from(c.querySelectorAll("img")),_=Array.from(c.querySelectorAll("video"));await h(y),await g(_);let p=r.clientWidth;console.log(p);const v=r.innerHTML;r.innerHTML=v+v,r.style.setProperty("--total-slider-width",`-${p}px`),r.style.setProperty("--iteration-time",`${u}s`),r.style.setProperty("animation","scroll-horizontal var(--iteration-time) linear infinite")};e("carousel1",17),e("carousel2",15),e("carousel3",15),e("sellers-media-carousel",15),f("hero-sliders-mobile",20),f("brands-media-mobile-carousel",20),f("sellers-media-mobile-carousel",20)});
