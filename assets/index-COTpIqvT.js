(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".modal").forEach(o=>{const a=o.getAttribute("data-modal-id");document.querySelectorAll(`button[data-modal-id="${a}"]`).forEach(s=>{s.addEventListener("click",()=>{o.classList.add("modal_active")})});const e=o.querySelector(".modal__overlay"),t=o.querySelector(".modal__close-button");e==null||e.addEventListener("click",()=>{o.classList.remove("modal_active")}),t==null||t.addEventListener("click",()=>{o.classList.remove("modal_active")})})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".form").forEach(o=>{o.addEventListener("submit",function(a){a.preventDefault();let c="";const e=o.querySelectorAll(".form__item"),t={};Array.from(e).forEach(s=>{const l=s.querySelector(".form__item-input"),f=s.getAttribute("data-form-validation-required")==="true",u=l.getAttribute("name");console.log(l.type,l.checked),f&&l.value.trim()===""&&(t[u]="Поле обязательно для заполнения"),f&&l.type==="checkbox"&&(l.checked||(t[u]="Поле обязательно для заполнения"));const n=s.getAttribute("data-form-validation-is-url")==="true",m=s.getAttribute("data-form-validation-is-email")==="true";n&&(l.value.match(/^https?:\/\/[^\s]+$/)||(t[u]="Неверный формат ссылки")),m&&(l.value.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(t[u]="Неверный формат электронной почты"))}),Object.keys(t).length>0&&(c="Пожалуйста, заполните все обязательные поля"),c&&alert(c)})})});document.addEventListener("DOMContentLoaded",function(){const r=document.querySelectorAll(".multiselect");r.forEach(function(e){o(e)});function o(e){const t=e.querySelector(".multiselect__header");e.querySelector(".multiselect__title");const s=e.querySelector(".multiselect__arrow"),l=e.querySelector(".multiselect__dropdown"),f=e.querySelectorAll(".multiselect__option");e.dataset.name,c(e),t.addEventListener("click",function(u){r.forEach(function(n){n!==e&&(n.querySelector(".multiselect__arrow").classList.remove("multiselect__arrow--up"),n.querySelector(".multiselect__dropdown").classList.remove("multiselect__dropdown--visible"))}),s.classList.toggle("multiselect__arrow--up"),l.classList.toggle("multiselect__dropdown--visible"),u.stopPropagation()}),f.forEach(function(u){u.addEventListener("click",function(n){u.classList.toggle("multiselect__option--selected");const m=u.classList.contains("multiselect__option--selected");u.setAttribute("aria-selected",m),a(e),c(e),n.stopPropagation()})}),a(e)}function a(e){const t=e.querySelector(".multiselect__title"),s=e.querySelectorAll(".multiselect__option--selected");if(s.length===0)t.classList.add("multiselect__title--empty"),t.textContent="Выберите категории";else{t.classList.remove("multiselect__title--empty");const l=Array.from(s).map(f=>f.querySelector(".multiselect__text").textContent);l.length<=2?t.textContent=l.join(", "):t.textContent=`Выбрано ${l.length} категории`}}function c(e){const t=e.querySelector(".multiselect__input");t.value="",e.querySelectorAll(".multiselect__option--selected").forEach(l=>{const f=l.dataset.value;t.value+=`${f},`})}document.addEventListener("click",function(e){r.forEach(function(t){t.querySelector(".multiselect__header");const s=t.querySelector(".multiselect__dropdown"),l=t.querySelector(".multiselect__arrow");t.contains(e.target)||(l.classList.remove("multiselect__arrow--up"),s.classList.remove("multiselect__dropdown--visible"))})})});function L(){const r=document.querySelectorAll('.form__item-input[data-mask="phone"]');function o(a){if(!a){console.warn("Элемент phone не найден");return}a.value||(a.value="+7"),a.addEventListener("focus",function(c){(!c.target.value||c.target.value==="+7")&&(c.target.value="+7")}),a.addEventListener("input",function(c){let e=c.target.value.replace(/\D/g,"");e.length>0&&e[0]!=="7"&&(e="7"+e);let t=e.match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);c.target.value=t[2]?`+7 (${t[2]}${t[3]?`) ${t[3]}`:""}${t[4]?`-${t[4]}`:""}${t[5]?`-${t[5]}`:""}`:"+7"})}r.forEach(o)}const b=r=>new Promise(o=>{r.readyState>=3?o(r):r.addEventListener("loadeddata",o)}),E=r=>new Promise(o=>r.complete?o(r):r.addEventListener("load",o)),g=r=>Promise.all(r.map(o=>b(o))),h=r=>Promise.all(r.map(o=>E(o)));document.addEventListener("DOMContentLoaded",()=>{console.log("Загрузка страницы..."),L();const r=document.querySelectorAll(".hero-section__nav-link");let o="1";const a=n=>{if(!n)return;r.forEach(d=>{d.classList.remove("hero-section__nav-link_active"),d.getAttribute("data-section-id")===n&&d.classList.add("hero-section__nav-link_active")});const m=document.querySelectorAll("[data-section-id]:not(.hero-section__nav-link):not(.menu-nav-link)");document.body.classList.remove(`blot_${o}`),document.body.classList.add(`blot_${n}`),o=n,m.forEach(d=>{const i=d;d.getAttribute("data-section-id")===n?(i.style.setProperty("opacity","1"),i.style.setProperty("visibility","visible")):(i.style.setProperty("opacity","0"),i.style.setProperty("visibility","hidden"))})};r.forEach(n=>{n.addEventListener("click",()=>{const m=n.getAttribute("data-section-id");m&&(n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),a(m))})});const c=r[0];c&&c.click();const e=async(n,m)=>{const d=document.getElementById(n);if(!d)return;const i=d.querySelector(".carousel__wrapper");if(!i)return;const y=Array.from(d.querySelectorAll("img")),v=Array.from(d.querySelectorAll("video"));await h(y),await g(v),console.log("all images and videos are ready");let p=i.clientHeight;console.log(p);const _=i.innerHTML;i.innerHTML=_+_,i.style.setProperty("--total-slider-height",`-${p}px`),i.style.setProperty("--iteration-time",`${m}s`),i.style.setProperty("animation","scroll var(--iteration-time) linear infinite")},t=document.querySelector(".header__menu-burger"),s=document.getElementById("closeBtn"),l=document.getElementById("menuOverlay");t==null||t.addEventListener("click",function(n){n.stopPropagation(),document.body.classList.add("menu-open")}),s==null||s.addEventListener("click",function(n){n.stopPropagation(),document.body.classList.remove("menu-open")}),document.addEventListener("click",function(n){document.body.classList.contains("menu-open")&&l&&t&&!l.contains(n.target)&&!t.contains(n.target)&&document.body.classList.remove("menu-open")}),document.querySelectorAll(".menu-nav-link").forEach(n=>{n.addEventListener("click",m=>{m.preventDefault();const i=m.currentTarget.getAttribute("data-section-id");document.body.classList.remove("menu-open"),i&&setTimeout(()=>{a(i);const y=document.querySelector(`.hero-section__nav-link[data-section-id="${i}"]`);y&&y.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},300)})});const u=async(n,m)=>{const d=document.getElementById(n);if(!d)return;const i=d.querySelector(".carousel__wrapper");if(!i)return;const y=Array.from(d.querySelectorAll("img")),v=Array.from(d.querySelectorAll("video"));await h(y),await g(v);let p=i.clientWidth;console.log(p);const _=i.innerHTML;i.innerHTML=_+_,i.style.setProperty("--total-slider-width",`-${p}px`),i.style.setProperty("--iteration-time",`${m}s`),i.style.setProperty("animation","scroll-horizontal var(--iteration-time) linear infinite")};e("carousel1",17),e("carousel2",15),e("carousel3",15),e("sellers-media-carousel",15),u("hero-sliders-mobile",20),u("brands-media-mobile-carousel",20),u("sellers-media-mobile-carousel",20)});
