(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function r(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function e(s){if(s.ep)return;s.ep=!0;const t=r(s);fetch(s.href,t)}})();function k(){const i=document.querySelectorAll('.form__item-input[data-mask="phone"]');function o(r){if(!r){console.warn("Элемент phone не найден");return}r.value||(r.value=""),r.addEventListener("focus",function(e){(!e.target.value||e.target.value==="+7")&&(e.target.value="+7")}),r.addEventListener("input",function(e){let s=e.target.value.replace(/\D/g,"");s.length>0&&s[0]!=="7"&&(s="7"+s);let t=s.match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);e.target.value=t[2]?`+7 (${t[2]}${t[3]?`) ${t[3]}`:""}${t[4]?`-${t[4]}`:""}${t[5]?`-${t[5]}`:""}`:"+7"})}i.forEach(o)}const M=[{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo1.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video1.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo2.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video2.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline2.webp"},{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo3.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video3.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline3.webp"},{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo4.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video4.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline4.webp"}],T=[{type:"video",src:"./src/assets/carousel/about-slider/right-half/video1.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"image",src:"./src/assets/carousel/about-slider/right-half/photo1.webp"},{type:"video",src:"./src/assets/carousel/about-slider/right-half/video2.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline8.webp"},{type:"image",src:"./src/assets/carousel/about-slider/right-half/photo2.webp"},{type:"video",src:"./src/assets/carousel/about-slider/right-half/video3.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline3.webp"},{type:"image",src:"./src/assets/carousel/about-slider/right-half/photo3.webp"},{type:"video",src:"./src/assets/carousel/about-slider/right-half/video4.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline7.webp"},{type:"image",src:"./src/assets/carousel/about-slider/right-half/photo4.webp"}],$=[{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo1.webp"},{type:"video",src:"./src/assets/carousel/about-slider/right-half/video1.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video1.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"image",src:"./src/assets/carousel/about-slider/right-half/photo1.webp"},{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo2.webp"},{type:"video",src:"./src/assets/carousel/about-slider/right-half/video2.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video2.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"image",src:"./src/assets/carousel/about-slider/right-half/photo2.webp"},{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo3.webp"},{type:"video",src:"./src/assets/carousel/about-slider/right-half/video3.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video3.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"image",src:"./src/assets/carousel/about-slider/right-half/photo3.webp"},{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo4.webp"},{type:"video",src:"./src/assets/carousel/about-slider/right-half/video4.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video4.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"image",src:"./src/assets/carousel/about-slider/right-half/photo4.webp"}],A=[{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo1.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video1.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline1.webp"},{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo2.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video2.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline2.webp"},{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo3.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video3.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline3.webp"},{type:"image",src:"./src/assets/carousel/about-slider/left-half/photo4.webp"},{type:"video",src:"./src/assets/carousel/about-slider/left-half/video4.mp4",outlineSrc:"./src/assets/carousel/about-slider/outlines/outline4.webp"}],W=[{type:"image",src:"./src/assets/sellers/carousel/photo1.webp"},{type:"image",src:"./src/assets/sellers/carousel/photo2.webp"},{type:"image",src:"./src/assets/sellers/carousel/photo3.webp"},{type:"image",src:"./src/assets/sellers/carousel/photo4.webp"},{type:"image",src:"./src/assets/sellers/carousel/photo5.webp"},{type:"image",src:"./src/assets/sellers/carousel/photo6.webp"},{type:"image",src:"./src/assets/sellers/carousel/photo7.webp"},{type:"image",src:"./src/assets/sellers/carousel/photo8.webp"}],R=async i=>{const o=new Image;return o.crossOrigin="anonymous",o.src=i,await new Promise(r=>{o.onload=()=>{r(o)},o.onerror=()=>{r(null)}}),o};function H(i){return Promise.all(i.map(o=>new Promise(async r=>{if(o.type==="video"){const e=document.createElement("video");e.src=o.src,e.muted=!0,e.loop=!0,e.autoplay=!0,e.playsInline=!0,e.crossOrigin="anonymous";const s={type:"video",media:e,height:0,width:0};if(o.outlineSrc){const t=await R(o.outlineSrc);s.outlineImg={type:"image",media:t,height:t.height,width:t.width}}e.addEventListener("loadeddata",()=>{e.play(),s.height=e.videoHeight,s.width=e.videoWidth,r(s)})}else{const e=new Image;e.crossOrigin="anonymous",e.src=o.src,e.onload=()=>{r({type:"image",media:e,height:e.height,width:e.width})}}})))}const I=(i,o,r,e,s,t,n=15)=>{const c=D(n,s,t);i.save(),i.beginPath(),i.moveTo(r+c.tl,e),i.lineTo(r+s-c.tr,e),i.quadraticCurveTo(r+s,e,r+s,e+c.tr),i.lineTo(r+s,e+t-c.br),i.quadraticCurveTo(r+s,e+t,r+s-c.br,e+t),i.lineTo(r+c.bl,e+t),i.quadraticCurveTo(r,e+t,r,e+t-c.bl),i.lineTo(r,e+c.tl),i.quadraticCurveTo(r,e,r+c.tl,e),i.closePath(),i.clip(),i.drawImage(o,r,e,s,t),i.restore()};function D(i,o,r){let e={tl:0,tr:0,br:0,bl:0};typeof i=="number"?e={tl:i,tr:i,br:i,bl:i}:e={tl:i.tl??0,tr:i.tr??0,br:i.br??0,bl:i.bl??0};const s=Math.min(1,o/(e.tl+e.tr),o/(e.bl+e.br),r/(e.tl+e.bl),r/(e.tr+e.br));return s<1&&(e.tl*=s,e.tr*=s,e.br*=s,e.bl*=s),e}const O=(i,o)=>{if(o.type==="video"){const e=i.canvas.width/o.width*o.height/window.devicePixelRatio;return{type:o.type,media:o.media,height:e,width:o.width/window.devicePixelRatio,outlineImg:o.outlineImg?O(i,o.outlineImg):void 0}}const r=i.canvas.width/o.width*o.height/window.devicePixelRatio;return{type:o.type,media:o.media,height:r,width:o.width/window.devicePixelRatio}},F=(i,o)=>{let r;return function(...e){clearTimeout(r),r=window.setTimeout(()=>i.apply(this,e),o)}},S=window.devicePixelRatio||1;function C(i){const r=i.getBoundingClientRect();i.width=r.width*S,i.height=r.height*S;const e=i.getContext("2d");return e.scale(S,S),e}const E=(i,o,r)=>{const e=document.getElementById(i);if(e.style.opacity="0",e.style.transition=`opacity ${r.fadeInDuration||500}ms ease`,!C(e))return;let t=null,n=[];(async()=>{n=await H(o)})().then(()=>{h()});const h=()=>{if(!n.length)return;t&&cancelAnimationFrame(t);const m=C(e);if(!m)return;let u=0;const p=r.speed/S,l=r.gap/S,d=e.width/S,f=60/S,g=n.map(y=>O(m,y)),w=()=>{m.clearRect(0,0,e.width,e.height);const y=g.reduce((a,v)=>a+v.height+l,0);let b=-u%y,L=0;for(;b<e.height+500;){const a=g[L%g.length];I(m,a.media,0,b,d,a.height,f),a.outlineImg&&m.drawImage(a.outlineImg.media,0,b,d,a.outlineImg.height),b+=a.height+l,L++}u+=p,u>=y&&(u=0),t=requestAnimationFrame(w)};t=requestAnimationFrame(w),setTimeout(()=>{e.style.opacity="1"},50)};return window.addEventListener("resize",F(h,100)),h},N=(i,o)=>{let r;return function(...e){clearTimeout(r),r=window.setTimeout(()=>i.apply(this,e),o)}},_=window.devicePixelRatio||1;function P(i){const r=i.getBoundingClientRect();i.width=r.width*_,i.height=r.height*_;const e=i.getContext("2d");return e.scale(_,_),e}function z(i,o){const r=i.canvas.height/_;let e=0;o.forEach(t=>{t.height>e&&(e=t.height)});const s=r/e;return o.map(t=>{const n=t.height*s,c=t.width*s;return{...t,displayHeight:n,displayWidth:c,scaleFactor:s}})}function B(i,o,r){const e=i.canvas.height/_,s=[];for(let t=0;t<o.length;t+=2){const n=o[t],c=o[t+1<o.length?t+1:0],h=Math.floor(t/2)%2===0,m=h?2/5:3/5,u=h?3/5:2/5,p=e*m,l=e*u,d=n.width/n.height*p,f=c.width/c.height*l,g=Math.max(d,f);s.push({type:"column",first:{...n,displayHeight:p,displayWidth:g,yOffset:0},second:{...c,displayHeight:l,displayWidth:g,yOffset:p+r/2},displayWidth:g,displayHeight:e,isEvenColumn:h})}return s}const q=(i,o,r)=>{const e=document.getElementById(i);if(e.style.opacity="0",e.style.transition=`opacity ${r.fadeInDuration||500}ms ease`,!P(e))return;let t=null,n=[];(async()=>{n=await H(o),h()})();const h=()=>{t&&cancelAnimationFrame(t);const m=P(e);if(!m)return;let u=0;const p=r.speed/_,l=r.gap/_,d=40/_,f=z(m,n),g=r.columnMode?B(m,f,l):f,w=()=>{m.clearRect(0,0,e.width,e.height);const y=g.reduce((a,v)=>a+v.displayWidth+l,0);let b=-u%y,L=0;for(;b<e.width+500;){const a=g[L%g.length];if(r.columnMode&&a.type==="column"){if(I(m,a.first.media,b,a.first.yOffset,a.first.displayWidth,a.first.displayHeight,d),a.first.outlineImg){const v=a.first.outlineImg.height*(a.first.displayHeight/a.first.height);m.drawImage(a.first.outlineImg.media,b,a.first.yOffset,a.first.displayWidth,v)}if(I(m,a.second.media,b,a.second.yOffset,a.second.displayWidth,a.second.displayHeight,d),a.second.outlineImg){const v=a.second.outlineImg.height*(a.second.displayHeight/a.second.height);m.drawImage(a.second.outlineImg.media,b,a.second.yOffset,a.second.displayWidth,v)}}else if(I(m,a.media,b,0,a.displayWidth,a.displayHeight,d),a.outlineImg){const v=a.outlineImg.height*(a.displayHeight/a.height);m.drawImage(a.outlineImg.media,b,0,a.displayWidth,v)}b+=a.displayWidth+l,L++}u+=p,u>=y&&(u=0),t=requestAnimationFrame(w)};t=requestAnimationFrame(w),setTimeout(()=>{e.style.opacity="1"},50)};return window.addEventListener("resize",N(h,100)),h};document.addEventListener("DOMContentLoaded",async()=>{k();const i=document.querySelectorAll(".hero-section__nav-link");let o="1";const r=l=>{const d=document.querySelector(".hero-section__content-container"),f=document.querySelector(`.hero-section__content[data-section-id="${l}"]`);d&&f&&d.style.setProperty("height",`${f.clientHeight}px`)},e=()=>{document.body.classList.remove("blot_1","blot_2","blot_3","blot_4")},s=l=>{if(!l)return;e(),i.forEach(f=>{f.classList.remove("hero-section__nav-link_active"),f.getAttribute("data-section-id")===l&&f.classList.add("hero-section__nav-link_active")});const d=document.querySelectorAll("[data-section-id]:not(.hero-section__nav-link):not(.menu-nav-link)");document.body.classList.add(`blot_${l}`),o=l,document.body.classList.remove("loading"),d.forEach(f=>{const g=f;f.getAttribute("data-section-id")===l?(g.style.setProperty("opacity","1"),g.style.setProperty("visibility","visible"),r(l)):(g.style.setProperty("opacity","0"),g.style.setProperty("visibility","hidden"))})};E("about-carousel-1",M,{speed:2,gap:20}),E("about-carousel-2",T,{speed:3,gap:20}),q("about-carousel-mobile",$,{speed:1,gap:10,columnMode:!0}),E("brands-carousel",A,{speed:3,gap:20}),q("brands-media-mobile-carousel",A,{speed:1,gap:10}),E("sellers-carousel",W,{speed:3,gap:20}),q("sellers-carousel-mobile",W,{speed:1,gap:10}),i.forEach(l=>{l.addEventListener("click",()=>{const d=l.getAttribute("data-section-id");d&&(o=d,s(d))})});const t=i[0];t&&t.click();const n=document.querySelector(".header__menu-burger"),c=document.getElementById("closeBtn"),h=document.getElementById("menuOverlay");n==null||n.addEventListener("click",function(l){l.stopPropagation(),document.body.classList.add("menu-open")}),c==null||c.addEventListener("click",function(l){l.stopPropagation(),document.body.classList.remove("menu-open")}),document.addEventListener("click",function(l){document.body.classList.contains("menu-open")&&h&&n&&!h.contains(l.target)&&!n.contains(l.target)&&document.body.classList.remove("menu-open")}),document.querySelectorAll(".menu-nav-link").forEach(l=>{l.addEventListener("click",d=>{d.preventDefault();const g=d.currentTarget.getAttribute("data-section-id");document.body.classList.remove("menu-open"),g&&setTimeout(()=>{s(g);const w=document.querySelector(`.hero-section__nav-link[data-section-id="${g}"]`);w&&w.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},300)})}),window.addEventListener("resize",()=>{r(o)}),r(o);const u=document.querySelectorAll(".textarea-auto-resize");u==null||u.forEach(l=>{l.addEventListener("input",()=>{l.style.height="auto",l.style.height=l.scrollHeight+"px"})}),document.querySelectorAll(".scale-element").forEach(l=>{const d=l.getAttribute("data-scale"),f=window.innerWidth,g=l.clientWidth,y=f*Number(d)/g;d&&(l.style.transform=`scale(${y})`),window.addEventListener("resize",()=>{const b=window.innerWidth,L=l.clientWidth,v=b*Number(d)/L;d&&(l.style.transform=`scale(${v})`)})})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".modal").forEach(o=>{const r=o.getAttribute("data-modal-id");document.querySelectorAll(`button[data-modal-id="${r}"]`).forEach(n=>{n.addEventListener("click",()=>{document.body.classList.remove("menu-open"),o.classList.add("modal_active")})});const s=o.querySelector(".modal__overlay"),t=o.querySelector(".modal__close-button");s==null||s.addEventListener("click",()=>{o.classList.remove("modal_active")}),t==null||t.addEventListener("click",()=>{o.classList.remove("modal_active")})})});document.addEventListener("DOMContentLoaded",function(){const i=document.querySelectorAll(".form"),o=document.getElementById("successModal");document.getElementById("successModalClose").addEventListener("click",function(){o.classList.remove("active")}),i.forEach(e=>{const s=e.closest(".modal");e.addEventListener("submit",function(t){t.preventDefault();const n=e.querySelectorAll(".form__item"),c={},h={};if(Array.from(n).forEach(u=>{const p=u.querySelector(".form__item-input"),l=u.getAttribute("data-form-validation-required")==="true",d=p.getAttribute("name"),f=p.type==="checkbox";l&&p.value.trim()===""&&(c[d]="Поле обязательно для заполнения"),l&&f&&(p.checked||(c[d]="Поле обязательно для заполнения")),u.getAttribute("data-form-validation-is-email")==="true"&&(p.value.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(c[d]="Неверный формат электронной почты")),u.getAttribute("data-form-validation-is-phone")==="true"&&(/^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(p.value)||(c[d]="Неверный формат телефона"));const y=u.getAttribute("data-form-validation-is-multiselect")==="true";h[d]=y?p.value.split(",").filter(Boolean):p.value,f&&(h[d]=p.checked);const b=u.querySelector(".form__item-error")||document.createElement("div");c[d]?(u.classList.add("form__item_error"),f||(b.classList.add("form__item-error"),b.textContent=c[d],u.appendChild(b))):(u.classList.remove("form__item_error"),b==null||b.remove())}),Object.keys(c).length===0){const u=e.getAttribute("data-server-url");fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then(p=>p.json()).then(()=>{e.reset(),o.classList.add("active"),s.classList.remove("modal_active")}).catch(p=>{console.error("Ошибка:",p)})}})})});document.addEventListener("DOMContentLoaded",function(){const i=document.querySelectorAll(".multiselect");i.forEach(function(s){o(s)});function o(s){const t=s.querySelector(".multiselect__header"),n=s.querySelector(".multiselect__arrow"),c=s.querySelector(".multiselect__dropdown"),h=s.querySelectorAll(".multiselect__option");e(s),t.addEventListener("click",function(m){i.forEach(function(u){u!==s&&(u.querySelector(".multiselect__arrow").classList.remove("multiselect__arrow--up"),u.querySelector(".multiselect__dropdown").classList.remove("multiselect__dropdown--visible"))}),n.classList.toggle("multiselect__arrow--up"),c.classList.toggle("multiselect__dropdown--visible"),m.stopPropagation()}),h.forEach(function(m){m.addEventListener("click",function(u){m.classList.toggle("multiselect__option--selected");const p=m.classList.contains("multiselect__option--selected");m.setAttribute("aria-selected",p),r(s),e(s),u.stopPropagation()})}),r(s)}function r(s){const t=s.querySelector(".multiselect__title"),n=s.querySelectorAll(".multiselect__option--selected");if(n.length===0)t.classList.add("multiselect__title--empty"),t.textContent="Выберите";else{t.classList.remove("multiselect__title--empty");const c=Array.from(n).map(h=>h.querySelector(".multiselect__text").textContent);c.length<=2?t.textContent=c.join(", "):t.textContent=`Выбрано ${c.length} категории`}}function e(s){const t=s.querySelector(".multiselect__input");t.value="",s.querySelectorAll(".multiselect__option--selected").forEach(c=>{const h=c.dataset.value;t.value+=`${h},`})}document.addEventListener("click",function(s){i.forEach(function(t){t.querySelector(".multiselect__header");const n=t.querySelector(".multiselect__dropdown"),c=t.querySelector(".multiselect__arrow");t.contains(s.target)||(c.classList.remove("multiselect__arrow--up"),n.classList.remove("multiselect__dropdown--visible"))})})});
