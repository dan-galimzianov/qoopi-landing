(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function u(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=u(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".modal").forEach(o=>{const u=o.getAttribute("data-modal-id");document.querySelectorAll(`button[data-modal-id="${u}"]`).forEach(l=>{l.addEventListener("click",()=>{o.classList.add("modal_active")})});const e=o.querySelector(".modal__overlay"),t=o.querySelector(".modal__close-button");e==null||e.addEventListener("click",()=>{o.classList.remove("modal_active")}),t==null||t.addEventListener("click",()=>{o.classList.remove("modal_active")})})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".form").forEach(o=>{o.addEventListener("submit",function(u){u.preventDefault();let s="";const e=o.querySelectorAll(".form__item"),t={},l={};Array.from(e).forEach(f=>{const c=f.querySelector(".form__item-input"),r=f.getAttribute("data-form-validation-required")==="true",a=c.getAttribute("name");r&&c.value.trim()===""&&(t[a]="Поле обязательно для заполнения"),r&&c.type==="checkbox"&&(c.checked||(t[a]="Поле обязательно для заполнения"));const d=f.getAttribute("data-form-validation-is-url")==="true",n=f.getAttribute("data-form-validation-is-email")==="true";d&&(c.value.match(/^https?:\/\/[^\s]+$/)||(t[a]="Неверный формат ссылки")),n&&(c.value.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(t[a]="Неверный формат электронной почты"));const y=f.getAttribute("data-form-validation-is-multiselect")==="true";l[a]=y?c.value.split(","):c.value}),Object.keys(t).length>0&&(s="Пожалуйста, заполните все обязательные поля"),s&&alert(s);const m=o.getAttribute("data-server-url");fetch(m,{method:"POST",body:JSON.stringify(l)})})})});document.addEventListener("DOMContentLoaded",function(){const i=document.querySelectorAll(".multiselect");i.forEach(function(e){o(e)});function o(e){const t=e.querySelector(".multiselect__header");e.querySelector(".multiselect__title");const l=e.querySelector(".multiselect__arrow"),m=e.querySelector(".multiselect__dropdown"),f=e.querySelectorAll(".multiselect__option");e.dataset.name,s(e),t.addEventListener("click",function(c){i.forEach(function(r){r!==e&&(r.querySelector(".multiselect__arrow").classList.remove("multiselect__arrow--up"),r.querySelector(".multiselect__dropdown").classList.remove("multiselect__dropdown--visible"))}),l.classList.toggle("multiselect__arrow--up"),m.classList.toggle("multiselect__dropdown--visible"),c.stopPropagation()}),f.forEach(function(c){c.addEventListener("click",function(r){c.classList.toggle("multiselect__option--selected");const a=c.classList.contains("multiselect__option--selected");c.setAttribute("aria-selected",a),u(e),s(e),r.stopPropagation()})}),u(e)}function u(e){const t=e.querySelector(".multiselect__title"),l=e.querySelectorAll(".multiselect__option--selected");if(l.length===0)t.classList.add("multiselect__title--empty"),t.textContent="Выберите категории";else{t.classList.remove("multiselect__title--empty");const m=Array.from(l).map(f=>f.querySelector(".multiselect__text").textContent);m.length<=2?t.textContent=m.join(", "):t.textContent=`Выбрано ${m.length} категории`}}function s(e){const t=e.querySelector(".multiselect__input");t.value="",e.querySelectorAll(".multiselect__option--selected").forEach(m=>{const f=m.dataset.value;t.value+=`${f},`})}document.addEventListener("click",function(e){i.forEach(function(t){t.querySelector(".multiselect__header");const l=t.querySelector(".multiselect__dropdown"),m=t.querySelector(".multiselect__arrow");t.contains(e.target)||(m.classList.remove("multiselect__arrow--up"),l.classList.remove("multiselect__dropdown--visible"))})})});function L(){const i=document.querySelectorAll('.form__item-input[data-mask="phone"]');function o(u){if(!u){console.warn("Элемент phone не найден");return}u.value||(u.value="+7"),u.addEventListener("focus",function(s){(!s.target.value||s.target.value==="+7")&&(s.target.value="+7")}),u.addEventListener("input",function(s){let e=s.target.value.replace(/\D/g,"");e.length>0&&e[0]!=="7"&&(e="7"+e);let t=e.match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);s.target.value=t[2]?`+7 (${t[2]}${t[3]?`) ${t[3]}`:""}${t[4]?`-${t[4]}`:""}${t[5]?`-${t[5]}`:""}`:"+7"})}i.forEach(o)}const b=i=>new Promise(o=>{i.readyState>=3?o(i):i.addEventListener("loadeddata",o)}),S=i=>new Promise(o=>i.complete?o(i):i.addEventListener("load",o)),g=i=>Promise.all(i.map(o=>b(o))),h=i=>Promise.all(i.map(o=>S(o)));document.addEventListener("DOMContentLoaded",()=>{console.log("Загрузка страницы..."),L();const i=document.querySelectorAll(".hero-section__nav-link");let o="1";const u=r=>{if(!r)return;i.forEach(d=>{d.classList.remove("hero-section__nav-link_active"),d.getAttribute("data-section-id")===r&&d.classList.add("hero-section__nav-link_active")});const a=document.querySelectorAll("[data-section-id]:not(.hero-section__nav-link):not(.menu-nav-link)");document.body.classList.remove(`blot_${o}`),document.body.classList.add(`blot_${r}`),o=r,a.forEach(d=>{const n=d;d.getAttribute("data-section-id")===r?(n.style.setProperty("opacity","1"),n.style.setProperty("visibility","visible")):(n.style.setProperty("opacity","0"),n.style.setProperty("visibility","hidden"))})};i.forEach(r=>{r.addEventListener("click",()=>{const a=r.getAttribute("data-section-id");a&&(r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),u(a))})});const s=i[0];s&&s.click();const e=async(r,a)=>{const d=document.getElementById(r);if(!d)return;const n=d.querySelector(".carousel__wrapper");if(!n)return;const y=Array.from(d.querySelectorAll("img")),_=Array.from(d.querySelectorAll("video"));await h(y),await g(_),console.log("all images and videos are ready");let v=n.clientHeight;console.log(v);const p=n.innerHTML;n.innerHTML=p+p,n.style.setProperty("--total-slider-height",`-${v}px`),n.style.setProperty("--iteration-time",`${a}s`),n.style.setProperty("animation","scroll var(--iteration-time) linear infinite")},t=document.querySelector(".header__menu-burger"),l=document.getElementById("closeBtn"),m=document.getElementById("menuOverlay");t==null||t.addEventListener("click",function(r){r.stopPropagation(),document.body.classList.add("menu-open")}),l==null||l.addEventListener("click",function(r){r.stopPropagation(),document.body.classList.remove("menu-open")}),document.addEventListener("click",function(r){document.body.classList.contains("menu-open")&&m&&t&&!m.contains(r.target)&&!t.contains(r.target)&&document.body.classList.remove("menu-open")}),document.querySelectorAll(".menu-nav-link").forEach(r=>{r.addEventListener("click",a=>{a.preventDefault();const n=a.currentTarget.getAttribute("data-section-id");document.body.classList.remove("menu-open"),n&&setTimeout(()=>{u(n);const y=document.querySelector(`.hero-section__nav-link[data-section-id="${n}"]`);y&&y.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},300)})});const c=async(r,a)=>{const d=document.getElementById(r);if(!d)return;const n=d.querySelector(".carousel__wrapper");if(!n)return;const y=Array.from(d.querySelectorAll("img")),_=Array.from(d.querySelectorAll("video"));await h(y),await g(_);let v=n.clientWidth;console.log(v);const p=n.innerHTML;n.innerHTML=p+p,n.style.setProperty("--total-slider-width",`-${v}px`),n.style.setProperty("--iteration-time",`${a}s`),n.style.setProperty("animation","scroll-horizontal var(--iteration-time) linear infinite")};e("carousel1",17),e("carousel2",15),e("carousel3",15),e("sellers-media-carousel",15),c("hero-sliders-mobile",20),c("brands-media-mobile-carousel",20),c("sellers-media-mobile-carousel",20)});
